---
// Modal para agregar/editar alimentos
---

<div
  id="food-modal"
  class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden"
  role="dialog"
  aria-labelledby="modal-title"
  aria-modal="true"
>
  <div
    class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"
  >
    <div class="mt-3">
      <h3 id="modal-title" class="text-lg font-medium text-gray-900 mb-4">
        Agregar Alimento
      </h3>
      <form id="food-form" class="space-y-4">
        <!-- Nombre del alimento -->
        <div>
          <label
            for="food-name"
            class="block text-sm font-medium text-gray-700"
          >Nombre del Alimento</label>
          <input
            type="text"
            id="food-name"
            name="name"
            required
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"
            placeholder="Ej: Arroz, Frijoles, Atún"
          />
        </div>

        <!-- Categoría -->
        <div>
          <label
            for="food-category"
            class="block text-sm font-medium text-gray-700"
          >Categoría</label>
          <select
            id="food-category"
            name="category"
            required
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"
          >
            <option value="">Seleccionar categoría</option>
            <option value="latas">🥫 Latas</option>
            <option value="paquetes">📦 Paquetes</option>
            <option value="frescos">🥬 Frescos</option>
            <option value="frascos">🫙 Frascos</option>
            <option value="bebidas">🥤 Bebidas</option>
            <option value="congelados">🧊 Congelados</option>
            <option value="granos">🌾 Granos</option>
            <option value="condimentos">🧂 Condimentos</option>
            <option value="otros">📋 Otros</option>
          </select>
        </div>

        <!-- Cantidad -->
        <div>
          <label
            for="food-quantity"
            class="block text-sm font-medium text-gray-700"
          >Cantidad</label>
          <input
            type="number"
            id="food-quantity"
            name="quantity"
            min="1"
            required
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"
            placeholder="Ej: 2"
          />
        </div>

        <!-- Unidad -->
        <div>
          <label
            for="food-unit"
            class="block text-sm font-medium text-gray-700"
          >Unidad</label>
          <select
            id="food-unit"
            name="unit"
            required
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"
          >
            <option value="">Seleccionar unidad</option>
            <option value="gramos">Gramos (g)</option>
            <option value="mililitros">Mililitros (ml)</option>
            <option value="kilogramos">Kilogramos (kg)</option>
            <option value="litros">Litros (L)</option>
            <option value="botella">Botella (750ml)</option>
            <option value="paquete/lata">Paquete/Lata</option>
          </select>
        </div>

        <!-- Calorías -->
        <div>
          <label
            for="food-calories"
            class="block text-sm font-medium text-gray-700"
          >Calorías</label>
          <input
            type="number"
            id="food-calories"
            name="calories"
            min="0"
            required
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"
            placeholder="Ej: 350"
          />
        </div>

        <!-- Fecha de vencimiento -->
        <div>
          <label
            for="food-expiry"
            class="block text-sm font-medium text-gray-700"
          >Fecha de Vencimiento</label>
          <input
            type="date"
            id="food-expiry"
            name="expiryDate"
            required
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"
            style="color-scheme: light;"
          />
        </div>

        <!-- Ubicación -->
        <div>
          <label
            for="food-location"
            class="block text-sm font-medium text-gray-700"
          >Ubicación</label>
          <select
            id="food-location"
            name="location"
            required
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"
          >
            <option value="">Seleccionar ubicación</option>
            <option value="despensa">🏠 Despensa</option>
            <option value="refrigerador">❄️ Refrigerador</option>
            <option value="congelador">🧊 Congelador</option>
            <option value="alacena">📦 Alacena</option>
          </select>
        </div>

        <!-- Notas -->
        <div>
          <label
            for="food-notes"
            class="block text-sm font-medium text-gray-700"
          >Notas (opcional)</label>
          <textarea
            id="food-notes"
            name="notes"
            rows="3"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"
            placeholder="Ej: Comprado en oferta, para usar primero, regalo de..."
          ></textarea>
        </div>

        <!-- Botones -->
        <div class="flex justify-end space-x-3 pt-4">
          <button
            type="button"
            id="cancel-btn"
            class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 cursor-pointer"
            aria-label="Cancelar y cerrar modal"
          >
            Cancelar
          </button>
          <button
            type="submit"
            id="save-btn"
            class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 cursor-pointer"
            aria-label="Guardar alimento"
          >
            <span id="save-spinner" class="hidden">
              <span class="animate-spin inline-block mr-2 text-lg">⏳</span>
            </span>
            <span id="save-text">Guardar</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
