---
// Lista principal de recetas con cálculos de disponibilidad
---

<div class="bg-white shadow overflow-hidden sm:rounded-md">
  <div class="px-4 py-5 sm:px-6 flex justify-between items-center">
    <div>
      <h3 class="text-lg leading-6 font-medium text-gray-900">Mis Recetas</h3>
      <p class="mt-1 max-w-2xl text-sm text-gray-500">
        Recetas disponibles y porciones que puedes hacer
      </p>
    </div>
    <button
      id="add-recipe-btn"
      class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium inline-flex items-center cursor-pointer"
    >
      <svg
        class="w-4 h-4 mr-2"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
      </svg>
      Agregar Receta
    </button>
  </div>

  <!-- Filtros de recetas -->
  <div class="px-4 py-3 bg-gray-50 border-t border-b border-gray-200">
    <div class="flex flex-wrap gap-4 items-center">
      <!-- Búsqueda -->
      <div class="flex-1 min-w-0">
        <input
          type="text"
          id="recipe-search"
          placeholder="Buscar recetas..."
          class="block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"
        />
      </div>

      <!-- Filtro por disponibilidad -->
      <div>
        <select
          id="availability-filter"
          class="rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"
        >
          <option value="all">Todas las recetas</option>
          <option value="available">Solo disponibles</option>
          <option value="partial">Parcialmente disponibles</option>
          <option value="missing">Con ingredientes faltantes</option>
        </select>
      </div>

      <!-- Filtro por categoría -->
      <div>
        <select
          id="recipe-category-filter"
          class="rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"
        >
          <option value="all">Todas las categorías</option>
          <option value="desayunos">🌅 Desayunos</option>
          <option value="almuerzos">🍽️ Almuerzos</option>
          <option value="cenas">🌙 Cenas</option>
          <option value="postres">🍰 Postres</option>
          <option value="bebidas">🥤 Bebidas</option>
          <option value="snacks">🥨 Snacks</option>
        </select>
      </div>
    </div>
  </div>

  <div id="recipes-list" class="border-t border-gray-200">
    <!-- Loading state -->
    <div id="loading-recipes" class="px-4 py-5 text-center text-gray-500">
      <div class="animate-pulse">
        <div class="text-2xl mb-2">🍞</div>
        <div>Cargando recetas...</div>
      </div>
    </div>

    <!-- Empty state -->
    <div id="no-recipes" class="px-4 py-8 text-center text-gray-500 hidden">
      <div class="text-6xl mb-4">📝</div>
      <h3 class="text-lg font-medium text-gray-900 mb-2">
        No tienes recetas aún
      </h3>
      <p class="text-sm text-gray-500 mb-4">
        Comienza agregando tu primera receta para ver cuántas porciones puedes
        hacer
      </p>
      <button
        onclick="document.getElementById('add-recipe-btn').click()"
        class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium cursor-pointer"
      >
        Agregar Primera Receta
      </button>
    </div>

    <!-- Recipes container -->
    <div id="recipes-container"></div>
  </div>
</div>
